# LogLevel. Log levels are trace, debug, info, warn, error
LogLevel = "info"

[Aggregator]
# WriteInterval. Interval between writes to clickhouse
WriteInterval = "20s"

# Aggregate. Enable deduplication of messages and aggregation functions if true.
# When false write one row for every message.
Aggregate = true

# WriteUngrouped. When Aggregation is true write a row for deduplicated messages.
WriteUngrouped = true

# GroupbyQueryAddress. When Aggregation is true write a row for the aggregation of 
# queries grouped by QueryAddress
GroupbyQueryAddress = true

# GroupbyQuestion. When Aggregation is true write a row for the aggregation of 
# queries grouped by QuestionName
GroupbyQuestion = true

[ClickHouse]
# Connection options
# Hosts = "host1:port1,host2:port2..."
Hosts = "localhost:9440"
Secure = true
InsecureSkipVerify = false
Username = "default"
Password = ""
Database = "default"

# QueryTable. Table to insert client queries.
QueryTable = "clientQuery"
# ResponseTable. Table to insert client responses.
ResponseTable = "clientResponse"
# Column names
QueryTimeColumn = "queryTime"
ResponseTimeColumn = "responseTime"
ResponseStatusColumn = "responseStatus"
IdentityColumn = "identity"
QueryAddressColumn = "queryAddress"
QuestionNameColumn = "questionName"
QuestionTypeColumn = "questionType"
# CounterColumn. Only if Aggregate is true
CounterColumn = "counter"

[Dnstap]
# UnixSocket. Where to read dnstap messages from.
UnixSocket = "/run/named/dnstap.sock"
ReadTimeout = "5s"
# Readers. Number of goroutines reading UnixSocket
Readers = 1
# ClientQueries. Process client queries
ClientQueries = true
# ClientResponses. Process non OK client responses
NonOkClientResponses = true

